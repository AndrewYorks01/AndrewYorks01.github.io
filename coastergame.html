<!DOCTYPE html>
<html>

<head>
    <title>Guess the Coaster</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>
  
  
  <style>
    button{
      font-family: "Open Sans";
      font-size: 16px;
      padding: 12px 24px;
    }
    body{
      font-family: "Open Sans";
    }
  table,th,td {
    border : 1px solid black;
    border-collapse: collapse;
  }
  th,td {
    padding: 5px;
  }
  </style>

<body>
    <h1 style align="center">Guess the Coaster</h1>
    <p style align="center" id="coasterPic"></p>

    <script>

    function check(coaster){
    if (coaster.image === "spacemountain_ca.png")
        return false;
    else if (coaster.image === "spacemountain_fl.png")
        return false;
    else
        return true;
    }

    const xmlhttp = new XMLHttpRequest();
    xmlhttp.onload = function() {
    const obj = JSON.parse(this.responseText);
    const array = obj.coasters;

    // Sort the coasters alphabetically.
    array.sort((a, b) => {
        const nameComp = a.name.localeCompare(b.name);
        if (nameComp !== 0){
            return nameComp;
        }
        return a.park.localeCompare(b.park);
        })

    // Pick a random coaster id.
    let i = Math.floor(Math.random() * array.length);

    let dispImage = "";
    if (array[i].image !== "-"){
        dispImage += "<img src=\"" + array[i].image + "\" style=\"width:250px;height:250px;\"><br>";
    }

    while (!check(array[i]))
        dispImage = "<img src=\"" + array[i].image + "\" style=\"width:250px;height:250px;\"><br>";

    document.getElementById("coasterPic").innerHTML = dispImage;

    }
    xmlhttp.open("GET", "coasterdata.txt");
    xmlhttp.send();
    </script>
</body>

</html>